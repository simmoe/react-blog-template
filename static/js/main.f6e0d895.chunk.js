(this["webpackJsonpreact-blog-template"]=this["webpackJsonpreact-blog-template"]||[]).push([[0],{34:function(e,t,a){e.exports=a(79)},39:function(e,t,a){},40:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(25),l=a.n(r),i=(a(39),a(5)),o=(a(40),a(19)),m=a.n(o);m.a.initializeApp({apiKey:"AIzaSyC5ize_t5L01W_Q3TZmmxTfye1Z9rOSp0E",authDomain:"web-firestore-authentication.firebaseapp.com",databaseURL:"https://web-firestore-authentication.firebaseio.com",projectId:"web-firestore-authentication",storageBucket:"web-firestore-authentication.appspot.com",messagingSenderId:"954309262588",appId:"1:954309262588:web:c7d23d1466067040a0ab79",measurementId:"G-TY9H31DPG5"});var s=m.a,d=a(4),u=(a(58),a(10)),g=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],o=function(e){return e.isPartiallyCurrent?{className:"active"}:null};return c.a.createElement("div",{className:"header-container"},c.a.createElement("div",{onClick:function(){return l(!r)},className:"burger"},r?c.a.createElement(u.a,{color:"white",size:"32"}):c.a.createElement(u.c,{color:"white",size:"32"})),c.a.createElement("header",{className:r?"mobile":"",onClick:function(){return l(!1)}},c.a.createElement(d.a,{to:"/react-blog-template/projects",getProps:o},"projects"),c.a.createElement(d.a,{to:"/react-blog-template/projects/animated",getProps:o},"animated"),c.a.createElement(d.a,{to:"/react-blog-template/contact"},"contact"),c.a.createElement(d.a,{to:"/react-blog-template/login"},e.signedIn?"profile":"login")))},p=a(15),f=(a(59),function(e){return c.a.createElement("div",{className:"project"},e.project.defaultImage&&c.a.createElement("img",{src:e.project.defaultImagethumbnailImage?e.project.defaultImagethumbnailImage:e.project.defaultImage,alt:"hei"}),c.a.createElement("h1",null,e.project.title),c.a.createElement("div",{className:"project-year"},e.project.year),c.a.createElement("div",{className:"project-byline"},e.project.byline),c.a.createElement(d.a,{to:"/react-blog-template/projects/"+e.id},"Read more"),e.signedIn&&c.a.createElement("div",{className:"admin"},c.a.createElement(d.a,{to:"/react-blog-template/edit/"+e.id,className:"edit-icons"},c.a.createElement(p.a,{className:"edit-icon"})),c.a.createElement(u.b,{onClick:function(){window.confirm("sure?")&&s.firestore().collection("projects").doc(e.id).delete()},className:"edit-icon"})))}),E=a(16),h=a(28),b=a.n(h),j=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){s.firestore().collection("projects").orderBy("year","desc").onSnapshot((function(e){return l(e.docs)}))}),[]);return c.a.createElement("main",{className:"home"},e.signedIn&&c.a.createElement("div",{className:"admin-actions",onClick:function(){s.firestore().collection("projects").add({title:"",year:2020,description:"",timestamp:s.firestore.FieldValue.serverTimestamp()}).then((function(e){Object(d.c)("/edit/"+e.id)})).catch((function(e){return console.log(e)}))}},c.a.createElement(E.a,{className:"edit-icon"})),r.length>0?c.a.createElement(b.a,{breakpointCols:{default:3,1500:2,1200:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column"},r.map((function(t,a){return c.a.createElement(f,{next:r[a<r.length-1?a+1:0].id,prev:r[0!==a?a-1:r.length-1].id,key:t.id,id:t.id,project:t.data(),signedIn:e.signedIn})}))):c.a.createElement("p",null,"Getting projects, hold on..."))},v=function(e){return c.a.createElement("main",null,c.a.createElement("div",{className:"contact-info"},c.a.createElement("h1",null,"Contact me"),c.a.createElement("p",null,"Simon Moe"),c.a.createElement("p",null,"+45 6556 9898"),c.a.createElement("a",{href:"mailto:simmoe@gmail.com"},"simmoe@gmail.com")))},y=function(e){return c.a.createElement("main",{className:"login"},!e.signedIn&&c.a.createElement(c.a.Fragment,null,!localStorage.getItem("Logging in")&&c.a.createElement("button",{onClick:function(){var e=new s.auth.GoogleAuthProvider;e.addScope("profile"),e.addScope("email"),s.auth().signInWithPopup(e).catch((function(e){console.log(e)})),localStorage.setItem("Logging in",!0)}},"use google to sign in"),localStorage.getItem("Logging in")&&c.a.createElement("p",null,"Log in progress, hold on...")),e.signedIn&&c.a.createElement("div",null,c.a.createElement("h1",null,"You are logged in to firebase"),c.a.createElement("p",null,"Welcome ",s.auth().currentUser.displayName,". You are now signed-in."),c.a.createElement("button",{onClick:function(){s.auth().signOut()}},"Sign-out"),s.auth().currentUser.photoURL&&c.a.createElement("img",{src:s.auth().currentUser.photoURL,alt:"profile"})))},I=a(8),O=a(17),w=a(29),N=a.n(w),k=(a(65),function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),d=m[0],u=m[1],g=Object(n.useState)("defaultImage"),p=Object(i.a)(g,2),f=p[0],E=p[1];Object(n.useEffect)((function(){window.scrollTo(0,0),s.firestore().collection("projects").doc(e.id).onSnapshot((function(e){l(e.data())}))}),[e.id]);var h=function(e){switch(e.persist(),e.target.type){case"checkbox":l((function(t){return Object(O.a)({},t,Object(I.a)({},e.target.name,e.target.checked))}));break;default:l((function(t){return Object(O.a)({},t,Object(I.a)({},e.target.name,e.target.value))}))}};return c.a.createElement("main",{className:"edit"},c.a.createElement("h1",null,"Edit project"),c.a.createElement("p",null,"Project id: ",e.id),r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),u("updating, please hold..."),s.firestore().collection("projects").doc(e.id).update(r).then((function(){u("project updated")})).catch((function(e){u("Error saving project: "+e.message)}))}},c.a.createElement("input",{name:"title",onChange:h,value:r.title,placeholder:"project title"}),c.a.createElement("input",{name:"year",onChange:h,placeholder:"year",value:r.year}),c.a.createElement("input",{name:"byline",onChange:h,placeholder:"byline",value:r.byline}),c.a.createElement("textarea",{name:"description",placeholder:"description",onChange:h,value:r.description}),c.a.createElement("div",{className:"checks"},c.a.createElement("label",{htmlFor:"condition"},"javascript"),c.a.createElement("input",{type:"checkbox",name:"javascript",onChange:h,defaultChecked:r.javascript}),c.a.createElement("label",{htmlFor:"reactjs"},"react js"),c.a.createElement("input",{type:"checkbox",name:"reactjs",onChange:h,defaultChecked:r.reactjs}),c.a.createElement("label",{htmlFor:"userOriented"},"user-oriented"),c.a.createElement("input",{type:"checkbox",name:"userOriented",onChange:h,defaultChecked:r.userOriented}),c.a.createElement("label",{htmlFor:"design"},"design"),c.a.createElement("input",{type:"checkbox",name:"design",onChange:h,defaultChecked:r.design})),c.a.createElement("div",{className:"edit-images"},r.defaultImage&&c.a.createElement("div",null,c.a.createElement("h3",null,"default"),c.a.createElement("img",{alt:"post img",src:r.defaultImage})),r.displayImage&&c.a.createElement("div",null,c.a.createElement("h3",null,"display"),c.a.createElement("img",{alt:"post img",src:r.displayImage})),r.detailImage&&c.a.createElement("div",null,c.a.createElement("h3",null,"detail"),c.a.createElement("img",{alt:"post img",src:r.detailImage}))),c.a.createElement("select",{name:"imageName",onChange:function(e){E(e.target.value)}},c.a.createElement("option",{defaultValue:!0,name:"defaultImage",value:"defaultImage"},"default image"),c.a.createElement("option",{name:"displayImage",value:"displayImage"},"display image"),c.a.createElement("option",{name:"detailImage",value:"detailImage"},"detail image")),c.a.createElement("label",null,c.a.createElement("div",{className:"add"},r.defaultImage?"new image":"add image"),c.a.createElement(N.a,{hidden:!0,accept:"image/*",name:"picture",randomizeFilename:!0,storageRef:s.storage().ref("images"),onUploadStart:function(){u("uploading image, please hold")},onUploadError:function(e){u(e.message)},onUploadSuccess:function(e){s.storage().ref("images").child(e).getDownloadURL().then((function(e){return l((function(t){var a;return Object(O.a)({},t,(a={},Object(I.a)(a,f,e),Object(I.a)(a,f+"thumbnailImage",function(e){var t=e.lastIndexOf(".");return e.slice(0,t)+"_400x400"+e.slice(t,e.length)}(e)),a))}))})),u("image ready")}})),c.a.createElement("button",{type:"submit"},"save")),c.a.createElement("p",null,d)))}),S=(a(66),a(30)),C=a.n(S),x=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(0),m=Object(i.a)(o,2),u=m[0],g=m[1],p=Object(n.useState)(0),f=Object(i.a)(p,2),E=f[0],h=f[1];window.scrollTo(0,0),Object(n.useEffect)((function(){s.firestore().collection("projects").doc(e.id).onSnapshot((function(e){return l(e.data())}))}),[e.id]),Object(n.useEffect)((function(){s.firestore().collection("projects").orderBy("year","desc").get().then((function(t){var a=t.docs.map((function(e){return e.id})),n=a.indexOf(e.id);h(n+1===a.length?a[0]:a[n+1]),g(0===n?a[a.length-1]:a[n-1])}))}),[e.id]);var b={};return r&&(b={parallax:{height:"100vh",width:"100vw",backgroundImage:"url("+r.defaultImage+")",backgroundAttachment:"fixed",backgroundSize:"cover",backgroundPosition:"center center"}}),c.a.createElement("main",{className:"project-detail"},r?c.a.createElement("div",null,c.a.createElement("div",{style:b.parallax},c.a.createElement("div",{className:"parallax-overlay"},c.a.createElement("div",null,c.a.createElement("h1",null,r.title),c.a.createElement("p",null,r.year),c.a.createElement("div",{className:"project-features"},r.javascript&&c.a.createElement("li",null,"Javascript"),r.reactjs&&c.a.createElement("li",null,"React JS"),r.userOriented&&c.a.createElement("li",null,"User oriented"),r.design&&c.a.createElement("li",null,"Design"))))),c.a.createElement("div",{className:"project-content"},c.a.createElement("div",{className:"admin-actions pager"},c.a.createElement(d.a,{to:"/react-blog-template/projects/"+u},"prev"),c.a.createElement(d.a,{to:"/react-blog-template/projects/"+E},"next")),c.a.createElement("div",{className:"project-images"},r.defaultImage&&c.a.createElement("img",{src:r.defaultImage,alt:"hei"}),r.displayImage&&c.a.createElement("img",{src:r.displayImage,alt:"hei"}),r.detailImage&&c.a.createElement("img",{src:r.detailImage,alt:"hei"})),c.a.createElement("div",null,C()(r.description)))):c.a.createElement("h2",{style:{textAlign:"center"}},"Fetching project, hold on..."))},F=a(33),U=a(18),L=a(31),W=(a(78),function(e){var t=e.projects,a=Object(n.useRef)(0),r=Object(U.b)(t.length,(function(e){return{x:e*window.innerWidth,sc:1,display:"block"}})),l=Object(i.a)(r,2),o=l[0],m=l[1],g=Object(L.a)((function(e){var n=e.down,c=Object(i.a)(e.delta,1)[0],r=Object(i.a)(e.direction,1)[0],l=e.distance,o=e.cancel;n&&l>window.innerWidth/2&&o(a.current=Object(F.a)(a.current+(r>0?-1:1),0,t.length-1)),m((function(e){return e<a.current-1||e>a.current+1?{display:"none"}:{x:(e-a.current)*window.innerWidth+(n?c:0),sc:n?1-l/window.innerWidth/2:1,display:"block"}}))}));return c.a.createElement("div",{id:"pager-main"},c.a.createElement("div",{id:"pager-container"},c.a.createElement("div",{id:"pager-root"},o.map((function(a,n){var r=a.x,l=a.display,i=a.sc;return c.a.createElement(U.a.div,Object.assign({},g(),{key:n,style:{display:l,transform:r.interpolate((function(e){return"translate3d(".concat(e,"px,0,0)")}))}}),c.a.createElement(U.a.div,{style:{transform:i.interpolate((function(e){return"scale(".concat(e,")")})),backgroundImage:"url(".concat(t[n].data().defaultImage,")")}},c.a.createElement("div",{className:"content"},c.a.createElement("div",{style:{color:"white",fontSize:"2rem"}},c.a.createElement("h1",null,t[n].data().title),c.a.createElement("h2",{onClick:function(){return Object(d.c)("/react-blog-template/projects/"+t[n].id)}},"view project")),e.signedIn&&c.a.createElement("div",{className:"admin"},c.a.createElement(d.a,{to:"/react-blog-template/edit/"+t[n].id,className:"edit-icons"},c.a.createElement(p.a,{className:"edit-icon"})),c.a.createElement(u.b,{onClick:function(){return e=t[n].id,void(window.confirm("sure?")&&s.firestore().collection("projects").doc(e).delete());var e},className:"edit-icon"})))))})))))}),z=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){s.firestore().collection("projects").orderBy("year","desc").onSnapshot((function(e){return l(e.docs)}))}),[]);return c.a.createElement("main",{className:"animated"},e.signedIn&&c.a.createElement("div",{className:"admin-actions",onClick:function(){s.firestore().collection("projects").add({title:"",year:2020,description:"",timestamp:s.firestore.FieldValue.serverTimestamp()}).then((function(e){Object(d.c)("/edit/"+e.id)})).catch((function(e){return console.log(e)}))}},c.a.createElement(E.a,{className:"edit-icon"})),r.length>0?c.a.createElement(W,{projects:r,signedIn:e.signedIn}):c.a.createElement("p",null,"Getting projects, hold on..."))},P=function(){return Object(d.c)("/projects"),c.a.createElement(c.a.Fragment,null)},R=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){s.auth().onAuthStateChanged((function(e){e?(r(!0),localStorage.removeItem("Logging in")):r(!1)}))})),c.a.createElement("div",null,c.a.createElement(g,{signedIn:a}),c.a.createElement(d.b,{primary:!1},c.a.createElement(P,{path:"/",Default:!0}),c.a.createElement(j,{path:"/react-blog-template/projects",signedIn:a}),c.a.createElement(z,{path:"/react-blog-template/projects/animated",signedIn:a}),c.a.createElement(x,{path:"/react-blog-template/projects/:id"}),c.a.createElement(v,{path:"/react-blog-template/contact",signedIn:a}),c.a.createElement(y,{path:"/react-blog-template/login",signedIn:a}),c.a.createElement(k,{path:"/react-blog-template/edit/:id"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.f6e0d895.chunk.js.map