(this["webpackJsonpreact-blog-template"]=this["webpackJsonpreact-blog-template"]||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},128:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(35),r=a.n(l),i=(a(88),a(6)),o=(a(89),a(56)),m=a.n(o);m.a.initializeApp({apiKey:"AIzaSyC5ize_t5L01W_Q3TZmmxTfye1Z9rOSp0E",authDomain:"web-firestore-authentication.firebaseapp.com",databaseURL:"https://web-firestore-authentication.firebaseio.com",projectId:"web-firestore-authentication",storageBucket:"web-firestore-authentication.appspot.com",messagingSenderId:"954309262588",appId:"1:954309262588:web:c7d23d1466067040a0ab79",measurementId:"G-TY9H31DPG5"});var s=m.a,u=a(5),d=(a(107),a(26)),p=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),l=a[0],r=a[1];return c.a.createElement("div",{className:"header-container"},c.a.createElement("div",{onClick:function(){return r(!l)},className:"burger"},l?c.a.createElement(d.a,{color:"white",size:"32"}):c.a.createElement(d.c,{color:"white",size:"32"})),c.a.createElement("header",{className:l?"mobile":"",onClick:function(){return r(!1)}},c.a.createElement(u.a,{to:"./projects",getProps:function(e){return e.isPartiallyCurrent?{className:"active"}:null}},"projects"),c.a.createElement(u.a,{to:"/contact"},"contact")))},g=a(77),E=(a(108),function(e){return c.a.createElement("div",{className:"project"},e.project.defaultImage&&c.a.createElement("img",{src:e.project.defaultImage,alt:"hei"}),c.a.createElement("div",{className:"project-inner",onClick:function(){return Object(u.c)("/projects/"+e.id)}},c.a.createElement("div",null,c.a.createElement("h1",null,e.project.title),c.a.createElement("div",{className:"project-year"},e.project.year),c.a.createElement("div",{className:"project-byline"},e.project.byline))),e.signedIn&&c.a.createElement("div",{className:"admin"},c.a.createElement(u.a,{to:"/edit/"+e.id},c.a.createElement(g.a,null)),c.a.createElement(d.b,{onClick:function(){window.confirm("sure?")&&s.firestore().collection("projects").doc(e.id).delete()}})))}),h=a(78),f=(a(109),function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],r=a[1];Object(n.useEffect)((function(){s.firestore().collection("projects").orderBy("year","desc").onSnapshot((function(e){return r(e.docs)}))}),[]);return c.a.createElement("main",{className:"projects"},e.signedIn&&c.a.createElement("div",{className:"admin-actions",onClick:function(){s.firestore().collection("projects").add({title:"",year:2020,description:"",timestamp:s.firestore.FieldValue.serverTimestamp()}).then((function(e){Object(u.c)("/edit/"+e.id)})).catch((function(e){return console.log(e)}))}},c.a.createElement(h.a,{className:"edit-icon"})),l.length>0?c.a.createElement("div",{className:"projects-container"},l.map((function(t,a){return c.a.createElement(E,{next:l[a<l.length-1?a+1:0].id,prev:l[0!==a?a-1:l.length-1].id,key:t.id,id:t.id,project:t.data(),signedIn:e.signedIn})}))):c.a.createElement("p",null,"Getting projects, hold on..."))}),j=function(e){return c.a.createElement("main",null,c.a.createElement("div",{className:"contact-info"},c.a.createElement("h1",null,"Contact me"),c.a.createElement("p",null,"Simon Moe"),c.a.createElement("p",null,"+45 6556 9898"),c.a.createElement("a",{href:"mailto:simmoe@gmail.com"},"simmoe@gmail.com")))},b=function(e){return c.a.createElement("main",{className:"login"},!e.signedIn&&c.a.createElement(c.a.Fragment,null,!localStorage.getItem("Logging in")&&c.a.createElement("button",{onClick:function(){var e=new s.auth.GoogleAuthProvider;e.addScope("profile"),e.addScope("email"),s.auth().signInWithPopup(e).catch((function(e){console.log(e)})),localStorage.setItem("Logging in",!0)}},"use google to sign in"),localStorage.getItem("Logging in")&&c.a.createElement("p",null,"Log in progress, hold on...")),e.signedIn&&c.a.createElement("div",null,c.a.createElement("h1",null,"You are logged in to firebase"),c.a.createElement("p",null,"Welcome ",s.auth().currentUser.displayName,". You are now signed-in."),c.a.createElement("button",{onClick:function(){s.auth().signOut()}},"Sign-out"),s.auth().currentUser.photoURL&&c.a.createElement("img",{src:s.auth().currentUser.photoURL,alt:"profile"})))},v=a(16),I=a(42),y=a(79),O=a.n(y),w=(a(115),function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),d=m[0],p=m[1],g=Object(n.useState)("defaultImage"),E=Object(i.a)(g,2),h=E[0],f=E[1];Object(n.useEffect)((function(){window.scrollTo(0,0),s.firestore().collection("projects").doc(e.id).onSnapshot((function(e){r(e.data())}))}),[e.id]);var j=function(e){switch(e.persist(),e.target.type){case"checkbox":r((function(t){return Object(I.a)({},t,Object(v.a)({},e.target.name,e.target.checked))}));break;default:r((function(t){return Object(I.a)({},t,Object(v.a)({},e.target.name,e.target.value))}))}};return c.a.createElement("main",{className:"edit"},c.a.createElement("h1",null,"Edit project"),c.a.createElement("p",null,"Project id: ",e.id),l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),p("updating, please hold..."),s.firestore().collection("projects").doc(e.id).update(l).then((function(){p("project updated")})).catch((function(e){p("Error saving project: "+e.message)}))}},c.a.createElement("input",{name:"title",onChange:j,value:l.title,placeholder:"project title"}),c.a.createElement("input",{name:"year",onChange:j,placeholder:"year",value:l.year}),c.a.createElement("input",{name:"byline",onChange:j,placeholder:"byline",value:l.byline}),c.a.createElement("textarea",{name:"description",placeholder:"description",onChange:j,value:l.description}),c.a.createElement("div",{className:"checks"},c.a.createElement("label",{htmlFor:"condition"},"javascript"),c.a.createElement("input",{type:"checkbox",name:"javascript",onChange:j,defaultChecked:l.javascript}),c.a.createElement("label",{htmlFor:"reactjs"},"react js"),c.a.createElement("input",{type:"checkbox",name:"reactjs",onChange:j,defaultChecked:l.reactjs}),c.a.createElement("label",{htmlFor:"userOriented"},"user-oriented"),c.a.createElement("input",{type:"checkbox",name:"userOriented",onChange:j,defaultChecked:l.userOriented}),c.a.createElement("label",{htmlFor:"design"},"design"),c.a.createElement("input",{type:"checkbox",name:"design",onChange:j,defaultChecked:l.design})),c.a.createElement("div",{className:"edit-images"},l.defaultImage&&c.a.createElement("div",null,c.a.createElement("h3",null,"default"),c.a.createElement("img",{alt:"post img",src:l.defaultImage})),l.displayImage&&c.a.createElement("div",null,c.a.createElement("h3",null,"display"),c.a.createElement("img",{alt:"post img",src:l.displayImage})),l.detailImage&&c.a.createElement("div",null,c.a.createElement("h3",null,"detail"),c.a.createElement("img",{alt:"post img",src:l.detailImage}))),c.a.createElement("select",{name:"imageName",onChange:function(e){f(e.target.value)}},c.a.createElement("option",{defaultValue:!0,name:"defaultImage",value:"defaultImage"},"default image"),c.a.createElement("option",{name:"displayImage",value:"displayImage"},"display image"),c.a.createElement("option",{name:"detailImage",value:"detailImage"},"detail image")),c.a.createElement("label",null,c.a.createElement("div",{className:"add"},l.defaultImage?"new image":"add image"),c.a.createElement(O.a,{hidden:!0,accept:"image/*",name:"picture",randomizeFilename:!0,storageRef:s.storage().ref("images"),onUploadStart:function(){p("uploading image, please hold")},onUploadError:function(e){p(e.message)},onUploadSuccess:function(e){s.storage().ref("images").child(e).getDownloadURL().then((function(e){return r((function(t){var a;return Object(I.a)({},t,(a={},Object(v.a)(a,h,e),Object(v.a)(a,h+"thumbnailImage",function(e){var t=e.lastIndexOf(".");return e.slice(0,t)+"_400x400"+e.slice(t,e.length)}(e)),a))}))})),p("image ready")}})),c.a.createElement("button",{type:"submit"},"save")),c.a.createElement("p",null,d),c.a.createElement(u.a,{to:"/projects/"+e.id},"view")))}),S=(a(116),a(37)),k=a.n(S),N=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(0),m=Object(i.a)(o,2),d=m[0],p=m[1],g=Object(n.useState)(0),E=Object(i.a)(g,2),h=E[0],f=E[1];window.scrollTo(0,0),Object(n.useEffect)((function(){s.firestore().collection("projects").doc(e.id).onSnapshot((function(e){return r(e.data())}))}),[e.id]),Object(n.useEffect)((function(){s.firestore().collection("projects").orderBy("year","desc").get().then((function(t){var a=t.docs.map((function(e){return e.id})),n=a.indexOf(e.id);f(n+1===a.length?a[0]:a[n+1]),p(0===n?a[a.length-1]:a[n-1])}))}),[e.id]);var j={};return l&&(j={parallax:{backgroundImage:"url("+l.defaultImage+")",height:"100vh",width:"100vw",backgroundAttachment:"fixed",backgroundSize:"cover",backgroundPosition:"center center"}}),c.a.createElement("main",{className:"project-detail"},l?c.a.createElement("div",null,c.a.createElement("div",{style:j.parallax},c.a.createElement("div",{className:"parallax-overlay"},c.a.createElement("div",null,c.a.createElement("h1",null,l.title),c.a.createElement("p",null,l.year)))),c.a.createElement("div",{className:"project-content"},c.a.createElement("div",{className:"admin-actions pager"},c.a.createElement(u.a,{to:"projects/"+d},"prev"),c.a.createElement(u.a,{to:"projects/"+h},"next")),c.a.createElement("div",{className:"project-images"},l.defaultImage&&c.a.createElement("img",{src:l.defaultImage,alt:"hei"}),l.displayImage&&c.a.createElement("img",{src:l.displayImage,alt:"hei"}),l.detailImage&&c.a.createElement("img",{src:l.detailImage,alt:"hei"})),c.a.createElement("div",null,k()(l.description)),c.a.createElement("div",{className:"project-features"},c.a.createElement("ul",null,l.javascript&&c.a.createElement("li",null,"Javascript"),l.reactjs&&c.a.createElement("li",null,"React JS"),l.userOriented&&c.a.createElement("li",null,"User oriented"),l.design&&c.a.createElement("li",null,"Design"))))):c.a.createElement("h2",{style:{width:"100vw",textAlign:"center"}},"Fetching project, hold on..."))},C=(a(128),a(58)),x=C.a.Panel,U=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(),m=Object(i.a)(o,2),u=(m[0],m[1]);Object(n.useEffect)((function(){s.firestore().collection("projects").orderBy("year","desc").onSnapshot((function(e){u(e.docs[0].id),r(e.docs)}))}),[]);return c.a.createElement("main",{className:"accordion"},c.a.createElement("div",{className:"menu"},c.a.createElement(C.a,{accordion:!0,destroyInactivePanel:!0},c.a.createElement(x,{transitionAppear:!0,header:"hello",headerClass:"my-header-class"},"this is panel content"),c.a.createElement(x,{header:"title2"},"this is panel content2 or other"))),l.length>0?l.map((function(e,t){return c.a.createElement("div",{className:"project-acc",key:e.id},c.a.createElement("h1",null,e.data().title),c.a.createElement("div",null,k()(e.data().description)))})):c.a.createElement("p",null,"Getting projects, hold on..."))},L=function(){console.log("im brand new");var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){s.auth().onAuthStateChanged((function(e){e?(l(!0),localStorage.removeItem("Logging in")):l(!1)}))})),c.a.createElement("div",null,c.a.createElement(p,{signedIn:a}),c.a.createElement(u.b,{basepath:"/react-blog-template"},c.a.createElement(f,{default:!0,path:"/projects",signedIn:a}),c.a.createElement(U,{path:"/projects-accordion",signedIn:a}),c.a.createElement(N,{path:"/projects/:id"}),c.a.createElement(j,{path:"/contact",signedIn:a}),c.a.createElement(b,{path:"/login",signedIn:a}),c.a.createElement(w,{path:"/edit/:id"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},83:function(e,t,a){e.exports=a(169)},88:function(e,t,a){},89:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.d789ccd1.chunk.js.map